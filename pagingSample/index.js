!function(n){var r={};function a(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=n,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=2)}([function(e,t,n){"use strict";var a=this&&this.__awaiter||function(o,i,l,u){return new(l||(l=Promise))(function(e,t){function n(e){try{a(u.next(e))}catch(e){t(e)}}function r(e){try{a(u.throw(e))}catch(e){t(e)}}function a(t){t.done?e(t.value):new l(function(e){e(t.value)}).then(n,r)}a((u=u.apply(o,i||[])).next())})},u=this&&this.__generator||function(n,r){var a,o,i,e,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};function i(e){if("opaqueredirect"===e.type&&""!==e.url&&(location.href=e.url),e.headers.has("refresh")){var t=e.headers.get("refresh");if(null!==t){var n=/url=(.+)$/;if(n.test(t)){var r=t.match(n);if(null===r)return;location.href=r[1]}}}}function s(r){return a(this,void 0,Promise,function(){var t,n;return u(this,function(e){switch(e.label){case 0:return[4,fetch(r)];case 1:if(i(t=e.sent()),!t.ok)throw t;return[4,t.json()];case 2:if("ok"!==(n=e.sent()).status)throw n;return[2,n]}})})}function c(e){r(),document.querySelectorAll("."+e).forEach(function(e){e.disabled=!0})}function d(e){r(),document.querySelectorAll("."+e).forEach(function(e){e.disabled=!1})}function r(){"NodeList"in window&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)})}Object.defineProperty(t,"__esModule",{value:!0}),t.fireEventById=function(e,t,n){var r=document.createEvent("CustomEvent");r.initCustomEvent(t,!1,!1,n);var a=document.getElementById(e);if(null===a)throw new Error("mandatory element not found");a.dispatchEvent(r)},t.fetchUtilJson=function(e){return fetch(e).then(function(n){return i(n),new Promise(function(e,t){n.ok?e(n.json()):t(n.statusText)})}).then(function(n){return new Promise(function(e,t){"ok"===n.status?e(n):t(n)})})},t.fetchUtilJsonAsync=s,t.ajaxFormAsync=function(o,i,l){return a(this,void 0,Promise,function(){var t,n,r,a;return u(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=new FormData(o),n=new Request(i,{body:t,credentials:"include",method:"POST",redirect:"manual"}),c(l),[4,s(n)];case 1:return r=e.sent(),d(l),[2,r];case 2:throw a=e.sent(),d(l),a;case 3:return[2]}})})},t.fetchJsonObjAsync=function(o){return a(this,void 0,Promise,function(){var t,n,r,a;return u(this,function(e){switch(e.label){case 0:return t={credentials:"include",method:o.method||"GET",redirect:"manual"},"body"in o&&(t.body=o.body),n=new Request(o.url,t),[4,fetch(n)];case 1:if(i(r=e.sent()),!r.ok)throw r;return[4,r.json()];case 2:if("ok"!==(a=e.sent()).status)throw a;return[2,a]}})})},t.disableButtonByClassName=c,t.enableButtonByClassName=d},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(0);document.addEventListener("DOMContentLoaded",function(){var a={data:[],page:1,perpage:10,total:3,totalpage:1};document.querySelectorAll(".buttons button").forEach(function(e){e.addEventListener("click",function(e){var t=e.target,n=t.getAttribute("data-page")||"",r=t.getAttribute("data-total")||"";a.totalpage=Number(r),a.page=Number(n),o.fireEventById("paging","onsearch",a)},!1)});var e=document.getElementById("searchform");if(null===e)throw new Error("mandatory element not found");e.addEventListener("searchrequest",function(e){var t=e.detail,n=e.target.querySelector("input");null!==n&&(n.value=t.page.toString())},!1);new r.PagingManager({form:"searchform",paging:"paging",pagingFragmentTemplate:"paging_fragment",pagingMisc:"paging_misc",pagingTemplate:"paging_template",pagingTemplateClose:"paging_template_close",pagingTemplateOpen:"paging_template_open",pagingWrap:"paging_wrap",reset:"xxxxxxxxx",search:"xxxxxxxxx",table:"xxxxxxxxx",template:"xxxxx"})},!1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=function(){function d(e){this.current=1,this.totalPage=1,this.idObj=e;var t=document.getElementById(this.idObj.pagingTemplate).content,n=document.importNode(t,!0);this.pagingBase=n.querySelector("ul");var r=document.getElementById(this.idObj.pagingTemplateOpen).content,a=document.importNode(r,!0);this.pagingOpen=a.querySelectorAll("li");var o=document.getElementById(this.idObj.pagingTemplateClose).content,i=document.importNode(o,!0);this.pagingClose=i.querySelectorAll("li");var l=document.getElementById(this.idObj.pagingFragmentTemplate).content,u=document.importNode(l,!0);this.pagingFragment=u.querySelector("li"),this.pagingNumberObj={close:0,hasNext:!1,hasNextSibling:!1,hasPrev:!1,hasPrevSibling:!1,open:0},this.setEvent()}return d.calcPagingNumber=function(e,t){var n={close:1,hasNext:!1,hasNextSibling:!(e===t),hasPrev:!1,hasPrevSibling:!(1===e),open:1},r=e%10;return n.open=0===r?e-9:e-r+1,0===r?n.close=e:(n.close=e+(10-r),n.close>t&&(n.close=t)),11<=n.open&&(n.hasPrev=!0),0===n.close%10?n.close+1<=t&&(n.hasNext=!0):n.close+1<t&&(n.hasNext=!0),n},d.calcPrevNextPage=function(e,t,n){var r=1;return(r=e+n)<=0&&(r=1),t<r&&(r=t),r},d.prototype.setEvent=function(){var a=this,e=document.getElementById(this.idObj.paging);null!==e&&(e.addEventListener("onsearch",function(e){var t=e.detail;console.dir(t),a.current=t.page,a.totalPage=t.totalpage,a.buildPaging(t),a.buildMisc(t)},!1),e.addEventListener("click",function(e){e.preventDefault();var t=e.target;if(t.classList.contains("page-link")){var n={page:1};if(t.classList.contains("isnum"))n.page=Number(t.textContent);else{var r=Number(t.getAttribute("data-add"));n.page=d.calcPrevNextPage(a.current,a.totalPage,r)}o.fireEventById(a.idObj.form,"searchrequest",n)}},!1))},d.prototype.buildPaging=function(e){var t=document.getElementById(this.idObj.pagingWrap);if(null===t)throw new Error("mandator element not found");for(;t.lastChild;)t.removeChild(t.lastChild);var n=document.createDocumentFragment();this.pagingNumberObj=d.calcPagingNumber(e.page,e.totalpage);var r=this.pagingOpen[0].cloneNode(!0);this.pagingNumberObj.hasPrev||r.classList.add("disabled"),n.appendChild(r);var a=this.pagingOpen[1].cloneNode(!0);if(this.pagingNumberObj.hasPrevSibling||a.classList.add("disabled"),n.appendChild(a),null===this.pagingFragment)throw new Error("mandator element not found");for(var o=this.pagingNumberObj.open;o<=this.pagingNumberObj.close;o++){var i=this.pagingFragment.cloneNode(!0),l=i.querySelector("a");if(null===l)throw new Error("mandator element not found");l.textContent=o.toString(),o===e.page&&i.classList.add("active"),n.appendChild(i.cloneNode(!0))}var u=this.pagingClose[0].cloneNode(!0);this.pagingNumberObj.hasNextSibling||u.classList.add("disabled"),n.appendChild(u);var s=this.pagingClose[1].cloneNode(!0);if(this.pagingNumberObj.hasNext||s.classList.add("disabled"),n.appendChild(s),null===this.pagingBase)throw new Error("mandator element not found");var c=this.pagingBase.cloneNode(!0);c.appendChild(n),t.appendChild(c)},d.prototype.buildMisc=function(e){var t="全 "+e.total+" 件 ("+e.page+" / "+e.totalpage+" ページ) "+e.perpage+" 件ずつ表示",n=document.getElementById(this.idObj.pagingMisc);if(null===n)throw new Error("mandator element not found");n.textContent=t},d}();t.PagingManager=r}]);