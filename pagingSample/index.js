!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,l)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};function o(e){if("opaqueredirect"===e.type&&""!==e.url&&(location.href=e.url),e.headers.has("refresh")){var t=e.headers.get("refresh");if(null!==t){var n=/url=(.+)$/;if(n.test(t)){var r=t.match(n);if(null===r)return;location.href=r[1]}}}}function i(e){return r(this,void 0,void 0,function(){var t,n;return a(this,function(r){switch(r.label){case 0:return[4,fetch(e)];case 1:if(o(t=r.sent()),!t.ok)throw t;return[4,t.json()];case 2:if("ok"!==(n=r.sent()).status)throw n;return[2,n]}})})}function l(e){document.querySelectorAll("."+e).forEach(function(e){e.disabled=!0})}function u(e){document.querySelectorAll("."+e).forEach(function(e){e.disabled=!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.fireEventById=function(e,t,n){var r=document.createEvent("CustomEvent");r.initCustomEvent(t,!1,!1,n);var a=document.getElementById(e);if(null===a)throw new Error("mandatory element not found");a.dispatchEvent(r)},t.fetchUtilJson=function(e){return fetch(e).then(function(e){return o(e),new Promise(function(t,n){e.ok?t(e.json()):n(e.statusText)})}).then(function(e){return new Promise(function(t,n){"ok"===e.status?t(e):n(e)})})},t.fetchUtilJsonAsync=i,t.ajaxFormAsync=function(e,t,n){return r(this,void 0,void 0,function(){var r,o,s,c;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),r=new FormData(e),o=new Request(t,{body:r,credentials:"include",method:"POST",redirect:"manual"}),l(n),[4,i(o)];case 1:return s=a.sent(),u(n),[2,s];case 2:throw c=a.sent(),u(n),c;case 3:return[2]}})})},t.fetchJsonObjAsync=function(e){return r(this,void 0,void 0,function(){var t,n,r,i;return a(this,function(a){switch(a.label){case 0:return t={credentials:"include",method:e.method||"GET",redirect:"manual"},"body"in e&&(t.body=e.body),n=new Request(e.url,t),[4,fetch(n)];case 1:if(o(r=a.sent()),!r.ok)throw r;return[4,r.json()];case 2:if("ok"!==(i=a.sent()).status)throw i;return[2,i]}})})},t.disableButtonByClassName=l,t.enableButtonByClassName=u},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=n(0);document.addEventListener("DOMContentLoaded",function(){var e={data:[],page:1,perpage:10,total:3,totalpage:1};document.querySelectorAll(".buttons button").forEach(function(t){t.addEventListener("click",function(t){var n=t.target,r=n.getAttribute("data-page")||"",o=n.getAttribute("data-total")||"";e.totalpage=Number(o),e.page=Number(r),a.fireEventById("paging","onsearch",e)},!1)});var t=document.getElementById("searchform");if(null===t)throw new Error("mandatory element not found");t.addEventListener("searchrequest",function(e){var t=e.detail,n=e.target.querySelector("input");null!==n&&(n.value=t.page.toString())},!1);new r.PagingManager({form:"searchform",paging:"paging",pagingFragmentTemplate:"paging_fragment",pagingMisc:"paging_misc",pagingTemplate:"paging_template",pagingTemplateClose:"paging_template_close",pagingTemplateOpen:"paging_template_open",pagingWrap:"paging_wrap",reset:"xxxxxxxxx",search:"xxxxxxxxx",table:"xxxxxxxxx",template:"xxxxx"})},!1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=function(){function e(e){this.current=1,this.totalPage=1,this.idObj=e;var t=document.getElementById(this.idObj.pagingTemplate).content,n=document.importNode(t,!0);this.pagingBase=n.querySelector("ul");var r=document.getElementById(this.idObj.pagingTemplateOpen).content,a=document.importNode(r,!0);this.pagingOpen=a.querySelectorAll("li");var o=document.getElementById(this.idObj.pagingTemplateClose).content,i=document.importNode(o,!0);this.pagingClose=i.querySelectorAll("li");var l=document.getElementById(this.idObj.pagingFragmentTemplate).content,u=document.importNode(l,!0);this.pagingFragment=u.querySelector("li"),this.pagingNumberObj={close:0,hasNext:!1,hasNextSibling:!1,hasPrev:!1,hasPrevSibling:!1,open:0},this.setEvent()}return e.calcPagingNumber=function(e,t){var n={close:1,hasNext:!1,hasNextSibling:!(e===t),hasPrev:!1,hasPrevSibling:!(1===e),open:1},r=e%10;return n.open=0===r?e-9:e-r+1,0===r?n.close=e:(n.close=e+(10-r),n.close>t&&(n.close=t)),n.open>=11&&(n.hasPrev=!0),0===n.close%10?n.close+1<=t&&(n.hasNext=!0):n.close+1<t&&(n.hasNext=!0),n},e.calcPrevNextPage=function(e,t,n){var r=1;return(r=e+n)<=0&&(r=1),r>t&&(r=t),r},e.prototype.setEvent=function(){var t=this,n=document.getElementById(this.idObj.paging);null!==n&&(n.addEventListener("onsearch",function(e){var n=e.detail;console.dir(n),t.current=n.page,t.totalPage=n.totalpage,t.buildPaging(n),t.buildMisc(n)},!1),n.addEventListener("click",function(n){n.preventDefault();var a=n.target;if(a.classList.contains("page-link")){var o={page:1};if(a.classList.contains("isnum"))o.page=Number(a.textContent);else{var i=Number(a.getAttribute("data-add"));o.page=e.calcPrevNextPage(t.current,t.totalPage,i)}r.fireEventById(t.idObj.form,"searchrequest",o)}},!1))},e.prototype.buildPaging=function(t){var n=document.getElementById(this.idObj.pagingWrap);if(null===n)throw new Error("mandator element not found");for(;n.lastChild;)n.removeChild(n.lastChild);var r=document.createDocumentFragment();this.pagingNumberObj=e.calcPagingNumber(t.page,t.totalpage);var a=this.pagingOpen[0].cloneNode(!0);this.pagingNumberObj.hasPrev||a.classList.add("disabled"),r.appendChild(a);var o=this.pagingOpen[1].cloneNode(!0);if(this.pagingNumberObj.hasPrevSibling||o.classList.add("disabled"),r.appendChild(o),null===this.pagingFragment)throw new Error("mandator element not found");for(var i=this.pagingNumberObj.open;i<=this.pagingNumberObj.close;i++){var l=this.pagingFragment.cloneNode(!0),u=l.querySelector("a");if(null===u)throw new Error("mandator element not found");u.textContent=i.toString(),i===t.page&&l.classList.add("active"),r.appendChild(l.cloneNode(!0))}var s=this.pagingClose[0].cloneNode(!0);this.pagingNumberObj.hasNextSibling||s.classList.add("disabled"),r.appendChild(s);var c=this.pagingClose[1].cloneNode(!0);if(this.pagingNumberObj.hasNext||c.classList.add("disabled"),r.appendChild(c),null===this.pagingBase)throw new Error("mandator element not found");var d=this.pagingBase.cloneNode(!0);d.appendChild(r),n.appendChild(d)},e.prototype.buildMisc=function(e){var t="全 "+e.total+" 件 ("+e.page+" / "+e.totalpage+" ページ) "+e.perpage+" 件ずつ表示",n=document.getElementById(this.idObj.pagingMisc);if(null===n)throw new Error("mandator element not found");n.textContent=t},e}();t.PagingManager=a}]);